!function(t,n){"use strict";"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define([],n):(t.Pin=n(),void 0===t.$&&(t.$=t.Pin))}(this,function(){"use strict";function t(t){var n=t.split(".");return{name:n[0]||"*",ns:n[1]||"*"}}function n(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function e(t){return window.getComputedStyle(t,"")}function i(){return[].slice.call(e(document.documentElement))}function r(){var t=(v.join("").match(/-(moz|webkit|ms)-/)||""===v.OLink&&["","o"])[1];return"ms"===t?t:o(t)}function s(t){var n="";return g&&(n="-"+g+"-"+t),-1!=v.indexOf(n.toLowerCase())?n:t}function o(t){return t[0].toUpperCase()+t.substr(1)}function u(t){return t.replace(/-+(.)?/g,function(t,n){return n?n.toUpperCase():""})}var c,a={},h=document.createElement("div"),f=document.createElement("table"),l=document.createElement("tbody"),d=document.createElement("tr"),p={"*":h,tr:l,tbody:f,thead:f,tfoot:f,td:d,th:d},m=/^\s*<(\w+|!)[^>]*>/,v=i(),g=r();return a.init=function(t,n){var e;if(!t)return new a.Collection;if(t._pin)return t;if(t instanceof Function)return document.addEventListener("DOMContentLoaded",t);if(t instanceof Array)e=t;else if("string"==typeof t)if(t=t.trim(),"<"==t[0])e=a.fragment(t);else{if(n)return c(n).find(t);e=document.querySelectorAll(t)}else t instanceof NodeList?e=t:"object"==typeof t&&(e=[t]);return new a.Collection(e)},a.Collection=function(t){t=[].slice.call(t||[]),t._pin=!0;for(var n in c.fn)c.fn.hasOwnProperty(n)&&(t[n]=c.fn[n]);return t},a.fragment=function(t){var n,e,i=t.match(m)[1];return p[i]||(i="*"),n=p[i],n.innerHTML=t,e=c(n.childNodes).each(function(){n.removeChild(this)})},c=function(t,n){return a.init(t,n)},c.each=function(t,n){var e,i;if("number"==typeof t.length){for(e=0;e<t.length;e++)if(n.call(t[e],e,t[e])===!1)return t}else for(i in t)if(t.hasOwnProperty(i)&&n.call(t[i],i,t[i])===!1)return t;return t},c.map=function(t,n){var e,i=[];return c(t).each(function(t){e=n.call(this,this,t),null!==e&&i.push(e)}),i},c.uniq=function(t){return[].filter.call(t,function(n,e){return t.indexOf(n)==e})},c.extend=function(t){var n,e,i={},r=[].slice.call(arguments);for("boolean"==typeof t&&r.shift(),n=0;n<r.length;n++)for(e in r[n])r[n].hasOwnProperty(e)&&(i[e]=t===!0&&"object"==typeof r[n][e]?c.extend(t,i[e],r[n][e]):r[n][e]);return i},c.fn={each:function(t){return c.each(this,t)},map:function(t){return c(c.map(this,t))},find:function(t){var n;return n=t?1==this.length?this[0].querySelectorAll(t):this.map(function(){return this.querySelectorAll(t)}):[],c(n)},slice:function(){return c([].slice.apply(this,arguments))},parent:function(t){return this.parents(t,!0)},closest:function(t){return c.uniq(this.map(function(){return c(this).is(t)?this:c(this).parent(t)[0]}))},parents:function(t,n){function e(n){return c.map(n,function(){return i=this.parentNode,i&&9!=i.nodeType&&s.indexOf(i)<0?((!t||c(i).is(t))&&s.push(i),i):null})}var i,r=this,s=[];for("boolean"==typeof t&&(n=t,t=null);r.length>0;)if(r=e(r),n&&s.length)return c(s);return c(s)},eq:function(t){return this.slice(t,t+1)},index:function(t){return t?this.indexOf(c(t)[0]):this.parent.childNodes.indexOf(this[0])},has:function(t){return!!this.find(t).length},is:function(t){var n,e;return t?(n=this.map(function(){return e=this.webkitMatchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.matchesSelector,this==t||e.call(this,t)?this:null}),!!n.length):!1},replaceWith:function(t){var n=c(t)[0];return this.map(function(){return c(this).before(n).remove(),n})},append:function(t){var n=c(t)[0];return this.each(function(){this.appendChild(n)})},prepend:function(t){var n=c(t)[0];return this.each(function(){this.insertBefore(n,this.firstChild)})},before:function(t){var n=c(t)[0];return this.each(function(){this.parentNode.insertBefore(n,this)})},after:function(t){var n=c(t)[0];return this.each(function(){this.parentNode.insertBefore(n,this.nextSibling)})},wrapWith:function(t){var n=c(t)[0],e=n;return this.map(function(){for(c(this).before(n);e.children.length;)e=e.children[0];return c(e).append(this),n})},remove:function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},addClass:function(t){return this.each(function(){c(this).hasClass(t)||(this.className=this.className+" "+t)})},removeClass:function(t){return this.each(function(){this.className=this.className.replace(n(t)," ")})},hasClass:function(t){return n(t).test(this[0].className)},toggleClass:function(t){return this.each(function(){var n=c(this);n.hasClass(t)?n.removeClass(t):n.addClass(t)})},css:function(t,n){return t=s(t),void 0!==n?(t=u(t),this.each(function(){this.style[t]=n})):this[0].style[t]||e(this[0]).getPropertyValue(t)},on:function(n,e,i){var r,s,o,u=t(n),c=u.name+"."+u.ns;return this.each(function(){s=function(t){o=t._args||[],o.unshift(t),e.apply(this,o)},r=this._handlers||{},r[c]=r[c]||[],r[c].push(s),this._handlers=r,this.addEventListener(u.name,s,i)})},off:function(n,e){var i=t(n);return this.each(function(){var n,r,s,o;if(this._handlers){o=this._handlers;for(n in o)if(o.hasOwnProperty(n)&&(r=t(n),"*"==i.name&&("*"==i.ns||i.ns==r.ns)||i.name==r.name&&(i.ns==r.ns||"*"==i.ns))){for(s=0;s<o[n].length;s++)this.removeEventListener(r.name,o[n][s],e);delete o[n]}}})},trigger:function(t,n){var e=document.createEvent("HTMLEvents");return e.initEvent(t,!0,!0),e._args=n,this.each(function(){this.dispatchEvent(e)})},set:function(t,n){return this.each(function(){"@"==t[0]?void 0===n?this.removeAttribute(t.slice(1)):this.setAttribute(t.slice(1),n):this[t]=n})},get:function(t){return"@"==t[0]?this[0].getAttribute(t.slice(1)):this[0][t]}},c});