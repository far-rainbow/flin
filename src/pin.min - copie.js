!function(t,n){"use strict";"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define([],n):(t.Pin=n(),void 0===t.$&&(t.$=t.Pin))}(this,function(){"use strict";function t(t){var n=t.split(".");return{name:n[0]||"*",ns:n[1]||"*"}}function n(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function e(t){return window.getComputedStyle(t,"")}function i(){return[].slice.call(e(document.documentElement))}function r(){var t=(v.join("").match(/-(moz|webkit|ms)-/)||""===v.OLink&&["","o"])[1];return"ms"===t?t:o(t)}function s(t){var n="";return g&&(n="-"+g+"-"+t),-1!==v.indexOf(n.toLowerCase())?n:t}function o(t){return t[0].toUpperCase()+t.substr(1)}function u(t){return t.replace(/-+(.)?/g,function(t,n){return n?n.toUpperCase():""})}var c,a={},h=document.createElement("div"),f=document.createElement("table"),l=document.createElement("tbody"),d=document.createElement("tr"),m={"*":h,tr:l,tbody:f,thead:f,tfoot:f,td:d,th:d},p=/^\s*<(\w+|!)[^>]*>/,v=i(),g=r();return a.init=function(t,n){var e;if(!t)return new a.Collection;if(a.isCollection(t))return t;if(t instanceof Function)return document.addEventListener("DOMContentLoaded",t);if(t instanceof Array)e=t;else if("string"==typeof t)if(t=t.trim(),"<"===t[0])e=a.fragment(t);else{if(n)return c(n).find(t);e=document.querySelectorAll(t)}else t instanceof NodeList?e=t:"object"==typeof t&&(e=[t]);return new a.Collection(e)},a.isCollection=function(t){return t.__pin},a.Collection=function(t){t=t||[],t=[].slice.call(t),t.__pin=!0;for(var n in c.fn)c.fn.hasOwnProperty(n)&&(t[n]=c.fn[n]);return t},a.fragment=function(t){var n,e,i,r=t.match(p)[1];return m[r]||(r="*"),n=m[r],n.innerHTML=t,e=[].slice.call(n.childNodes),i=c.each(e,function(){n.removeChild(this)})},c=function(t,n){return a.init(t,n)},c.uniq=function(t){return[].filter.call(t,function(n,e){return t.indexOf(n)==e})},c.each=function(t,n){var e,i;if("number"==typeof t.length){for(e=0;e<t.length;e++)if(n.call(t[e],e,t[e])===!1)return t}else for(i in t)if(t.hasOwnProperty(i)&&n.call(t[i],i,t[i])===!1)return t;return t},c.map=function(t,n){var e=[];return c(t).each(function(t){var i=n.call(this,this,t);null!==i&&e.push(i)}),e},c.extend=function(t){var n,e,i={},r=[].slice.call(arguments);for("boolean"==typeof t&&r.shift(),n=0;n<r.length;n++)for(e in r[n])r[n].hasOwnProperty(e)&&(i[e]=t===!0&&"object"==typeof r[n][e]?c.extend(t,i[e],r[n][e]):r[n][e]);return i},c.fn={set:function(t,n){return this.each(function(){"@"===t[0]?void 0===n?this.removeAttribute(t.slice(1)):this.setAttribute(t.slice(1),n):this[t]=n})},get:function(t){return"@"===t[0]?this[0].getAttribute(t.slice(1)):this[0][t]},each:function(t){return c.each(this,t)},map:function(t){var n=c.map(this,function(n,e){return t.call(n,e,n)});return c(n)},slice:function(){return c([].slice.apply(this,arguments))},eq:function(t){return this.slice(t,+t+1)},index:function(t){return t?this.indexOf(c(t)[0]):this.parent.childNodes.indexOf(this[0])},find:function(t){var n;return n=t?1===this.length?this[0].querySelectorAll(t):this.map(function(){return this.querySelectorAll(t)}):[],c(n)},parent:function(t){return c(this).parents(t,!0)},closest:function(t){return c.uniq(this.map(function(){return c(this).is(t)?this:c(this).parent(t)[0]}))},parents:function(t,n){function e(n){return c.map(n,function(){var n=this.parentNode;return n&&9!==n.nodeType&&r.indexOf(n)<0?((!t||c(n).is(t))&&r.push(n),n):null})}var i=this,r=[];for("boolean"==typeof t&&(n=t,t=null);i.length>0;)if(i=e(i),n&&r.length)return c(r);return c(r)},has:function(t){return!!c(this).find(t).length},is:function(t){if(!t)return!1;var n=c(this).map(function(){var n=this.webkitMatchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.matchesSelector;return this===t||n.call(this,t)?this:null});return!!n.length},replaceWith:function(t){var n=c(t)[0];return this.map(function(){return c(this).before(n).remove(),n})},append:function(t){var n=c(t)[0];return this.each(function(){this.appendChild(n)})},prepend:function(t){var n=c(t)[0];return this.each(function(){this.insertBefore(n,this.firstChild)})},before:function(t){var n=c(t)[0];return this.each(function(){this.parentNode.insertBefore(n,this)})},after:function(t){var n=c(t)[0];return this.each(function(){this.parentNode.insertBefore(n,this.nextSibling)})},wrapWith:function(t){var n=c(t)[0],e=n;return this.map(function(){for(c(this).before(n);e.children.length;)e=e.children[0];return c(e).append(this),n})},remove:function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},addClass:function(t){return this.each(function(){c(this).hasClass(t)||(this.className=this.className+" "+t)})},removeClass:function(t){return this.each(function(){this.className=this.className.replace(n(t)," ")})},hasClass:function(t){return n(t).test(this[0].className)},toggleClass:function(t){return this.each(function(){var n=c(this);n.hasClass(t)?n.removeClass(t):n.addClass(t)})},css:function(t,n){return t=s(t),void 0!==n?(t=u(t),this.each(function(){this.style[t]=n})):this[0].style[t]||e(this[0]).getPropertyValue(t)},on:function(n,e,i){var r=t(n),s=r.name+"."+r.ns;return this.each(function(){var t=this.__handlers||{};t[s]=t[s]||[],t[s].push(e),this.__handlers=t,this.addEventListener(r.name,e,i)})},off:function(n,e){var i,r=t(n);return this.each(function(){var n,s,o;if(this.__handlers){i=this.__handlers;for(n in i)if(i.hasOwnProperty(n)&&(s=t(n),"*"===r.name&&("*"===r.ns||r.ns===s.ns)||r.name===s.name&&(r.ns===s.ns||"*"===r.ns))){for(o=0;o<i[n].length;o++)this.removeEventListener(s.name,i[n][o],e);delete i[n]}}})},trigger:function(t){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!0),this.each(function(){this.dispatchEvent(n)})}},c});